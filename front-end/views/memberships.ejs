<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Memberships</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    </head>
    <body>
        <%- include('./partials/navbar.ejs')%>

        <section class="container mt-5">
            <h2 class="display-3">Membership Overview</h2>

            <% Object.keys(memberships).forEach((status, index) => { %>

                <h3 class="mt-4">
                    <button class="btn btn-warning w-100 d-flex" data-bs-toggle="collapse" data-bs-target="#status-<%= index %>">
                        <i class="bi bi-plus-square me-2"></i>
                        <span class="flex-grow-1 text-start"><%= status %> Members</span>
                    </button>
                </h3>
                
                <div id="status-<%= index %>" class="collapse">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th scope="col">Firstname</th>
                                <th scope="col">Lastname</th>
                                <th scope="col">Username</th>
                                <th scope="col">Email</th>
                            </tr>
                        </thead>
                        <tbody class="table-group-divider table-divider-color">
                            <% memberships[status].forEach((user) => { %>
                                <tr>
                                    <td><%= user.Firstname %></td>
                                    <td><%= user.Lastname %></td>
                                    <td><%= user.Username %></td>
                                    <td><%= user.Email %></td>
                                </tr>
                            <% }) %>
                        </tbody>
                    </table>
                </div>
            <% }) %>
        </section>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    </body>
<html>